# ç¬¬ä¸€è¯ åŸå‹
<a href="#instanceof">instanceof</a>
## æ„é€ å‡½æ•° Pserson ä¸ å®ä¾‹ xiaoming

é¦–å…ˆæˆ‘ä»¬æ¥æä¸€ä¸ªå‡½æ•°

```js
var Person = function () {

}
```

æˆ‘ä»¬æ¥çœ‹ä¸‹è¿™ä¸ªPersonéƒ½æœ‰äº›å•¥å±æ€§

``` js
Person.prototype  instanceof Object // true

```
Person æœ‰ä¸€ä¸ª prototype å±æ€§, æŒ‡å‘äº†ä¸€ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡æ˜¯å¹²å•¥ç”¨çš„å‘¢ï¼Ÿ å…ˆä¸è¦ç€æ€¥ï¼Œæˆ‘ä»¬å…ˆæŠŠè¿™ä¸ªå‡½æ•°ï¼Œå½“åšæ„é€ å‡½æ•°ï¼Œnewä¸€ä¸ªå®ä¾‹å‡ºæ¥ã€‚

``` js
var xiaoming = new Person()

```
xiaoming æœ‰å“ªäº›å±æ€§å‘¢ï¼Ÿ 

```js
xiaoming.__proto__ === Person.prototype // true

```

 **åŸå‹:** Person  å’Œ xiaoming å„æœ‰ä¸¤ä¸ªå±æ€§ï¼ŒæŒ‡å‘äº†åŒä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯ xiaoming çš„ ã€åŸå‹ã€‘ã€‚

### ç•ªå¤–1ï¼š 

```
var xiaohong = new Pserson()
xiaohong.__proto__ === xiaoming.__proto__  // true

```
ä¸ç®¡å¤šå°‘ä¸ªå®ä¾‹ï¼Œå…±äº«åŒä¸€ä¸ªåŸå‹

## æ„é€ å‡½æ•° Person ä¸ åŸå‹ 


ä¸Šé¢æˆ‘ä»¬è¯´åˆ°ï¼Œ æ„é€ å‡½æ•° Person æœ‰ä¸€ä¸ª prototypeå±æ€§ï¼Œ æŒ‡å‘äº†xiaomingçš„åŸå‹ã€‚

ç›¸åçš„å‘¢ï¼ŒåŸå‹ä¸Šæœ‰ä¸€ä¸ª constructor å±æ€§ï¼ŒæŒ‡å‘äº† æ„é€ å‡½æ•° Person

```
Person.prototype.constructor === Person
```
## å®ä¾‹ xiaoming ä¸ åŸå‹


æˆ‘ä»¬æ¥ç»™Personå¢åŠ ä¸€ä¸ªæ€§åˆ«å±æ€§sex

```
Person.prototype.sex = "ç”·"
xiaoming.sex // "ç”·"
```

ğŸ‘Œ æˆ‘ä»¬å¯ä»¥å‘ç°~ æˆ‘ä»¬å¹¶æ²¡æœ‰ç»™xiaoming è®¾ç½®æ€§åˆ«ï¼Œç„¶è€Œxiaoming.sex è¿˜æ˜¯è¾“å‡ºäº† sex ã€‚ 

åˆ’é‡ç‚¹ï¼š æˆ‘ä»¬è¯»å–å®ä¾‹å±æ€§çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ²¡æœ‰è¯¥å±æ€§ï¼Œä¼šæ²¿ç€åŸå‹é“¾ï¼Œä¸€ç›´æ‰¾åˆ°æœ€é¡¶å±‚ä¸ºæ­¢ã€‚

å¥½çš„ï¼Œå‰é¢ç•ªå¤–1ä¸­æˆ‘ä»¬æåˆ°ï¼Œæ‰€æœ‰çš„å±æ€§å…±äº«åŒä¸€ä¸ªåŸå‹ï¼Œæ‰€ä»¥

```
xiaohong.sex // "ç”·"
```
ğŸ˜‚ xiaohongè¯´æˆ‘æ˜¯ä¸ªå•å­©å­ï¼ŒğŸ‘Œ

```
xiaohong.sex = "å¥³"

xiaohong.sex // "å¥³"
```

## åˆ¤æ–­åŸå‹çš„æ–¹æ³•

```js

xiaoming instanceof Person // true

xiaoming.__proto__ === Person.prototype

xiaoming.constructor === Person

// æ³¨é‡Šï¼š å¯¹äº xiaoming.constructor === Person ï¼Œ xiaoming å¹¶æ²¡æœ‰ constructor å±æ€§ï¼Œç„¶é¹…ï¼Œæ‰¾åˆ°äº†xiaoming åŸå‹ä¸Šçš„ constructor, åŸå‹çš„ constructor æŒ‡å‘äº† Person ğŸ‘Œ 

```

## instanceof åŸç†
<p id="instanceof"></p>

> instanceof è¿ç®—ç¬¦ç”¨æ¥æ£€æµ‹ constructor(A).prototype æ˜¯å¦å­˜åœ¨äºå‚æ•° object(a) çš„åŸå‹é“¾ä¸Šã€‚

```js 
function instance_of(L, R) {//L è¡¨ç¤ºå·¦è¡¨è¾¾å¼ï¼ŒR è¡¨ç¤ºå³è¡¨è¾¾å¼
 var O = R.prototype;// å– R çš„æ˜¾ç¤ºåŸå‹
 L = L.__proto__;// å– L çš„éšå¼åŸå‹
 while (true) { 
   if (L === null) 
     return false; 
   if (O === L)// è¿™é‡Œé‡ç‚¹ï¼šå½“ O ä¸¥æ ¼ç­‰äº L æ—¶ï¼Œè¿”å› true 
     return true; 
   L = L.__proto__; 
 } 
}
```

å…¶å®æ˜¯åˆ¤æ–­çš„æ˜¯ xiaoming çš„ __proto__ ä¸ Person.prototype æ˜¯å¦å‘ç›¸ç­‰

